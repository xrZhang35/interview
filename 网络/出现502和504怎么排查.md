502：Bad Gateway

504：Gateway Timeout

502属于连不上，504属于连上了但是超时了

---

502的排查逻辑：

确认上游服务已启动，监听正确端口

修正 Nginx 的 `proxy_pass` 配置

检查协议是否一致（不要 HTTP 请求 HTTPS）

检查防火墙或安全组（Nginx 能否访问上游端口）

---

504的排查逻辑

优化后端逻辑（慢 SQL、算法优化）

增加代理的超时时间配置

增加资源或加快响应（加缓存、CDN）

检查是否某些机器/节点负载过重